<html>
  <head>
    <title> Eketech Voxel Editor, Version 2 </title>
    <link rel="stylesheet" type="text/css" href="DefaultTheme.css">

    <script src="lib/three.js"></script>
    <script src="lib/OBJLoader.js"></script>
    <script src="lib/jquery-3.4.1.js"></script>
    <script src="lib/jszip.js"></script>

    <script type="module" src="ekvx2ed/ed.js"></script>
    
    <script> 
      (async function f() {
        let resp = await fetch("/orthot/orthoted.json", {cache:"no-store"})
        let cfg = JSON.parse(await resp.text())
        if (window.ectl && window.ectl.configure) {
          window.ectl.configure(cfg)
        }
        else {
          document.DEFAULT_EDITOR_CFG = cfg
        }
      })();
    </script>
  </head>
  <body>
    <div class="mainblock section">
     <span class="name" id="NameDisp"> Eketech Voxel Editor, Version 2 </span>
   </div>

    <div class="mainblock">
      <div class="section" id="leftside" style="min-width:126px;overflow-y:auto;max-height:800px">
        <span class="btn_active" id="foldcommandsBTN">Commands</span><br>
        <div id="commands" class="narrowblock"></div>
        <span class="btn_active" id="foldtoolsBTN">Tools</span><br>
        <div id="tools" class="narrowblock"></div>
        <span class="btn_active" id="foldoptionsBTN">Options</span><br>
        <div id="options" class="narrowblock">
          <div id="optionButtons" class="narrowblock"></div>
          <select name="objSelector" id="objSelector" size=1 style="width:100%;display:none"></select>
          <div id="objProperties"></div>
        </div>
      </div>
      <div class="section" style="flex:1;height:800px">
        <div id="editor" style="width:calc( 100% - 80px );height:100%"></div>
      </div>
      <div class="section" id="rightside">
        CONTROLS
        <div id="controls"></div>
        <div>
          Loaded Puzzle:<br>
          <select name="loadPuzzle" id="loadPuzzle" size=20 style="width:100%"></select>
        </div>
      </div>
    </div>
    <div id="texturePicker" class="info">
      <div>
        Texture Picker &nbsp&nbsp&nbsp
        Rows:<textarea id="tpRows" rows=1 cols=5 style="width:50px;height:18px;resize:none">8</textarea>
        Columns:<textarea id="tpCols" rows=1 cols=5 style="width:50px;height:18px;resize:none">8</textarea>
      </div>
      <canvas id="tpickerCNV" width=520 height=520></canvas>
      <canvas id="tpickerOverlayCNV" width=520 height=520 style="position:absolute;left:0px;pointer-events:none"></canvas>
    </div>
    <div id="port" class="info" style="min-width:400px;width:33%;padding:10px">
      ekvx2 export/import<hr>
      <textarea id="exportTarget" rows=40 style="min-width:100%;min-height:100%"></textarea>
      <div>
        <span id="import" class="btn_active">Import</span>
        &nbsp&nbsp&nbsp
        <a id="savetofile" class="btn_active" download="untitled.ekvx2" title="Save to File">Save to File</a>
        <span >
          <label class="btn_active" for="loadfromfile">Load from File</label>
          <input type="file" id="loadfromfile" name="ekvx2file" accept=".ekvx2,application/json" style="opacity:0;Width:0px"></input>
        </span>
      </div>
    </div>
    <div id="about" class="info" style="min-width:400px;width:33%;padding:10px">
      Ekvx2-ed with configuration for Orthot III<br>
      Version: 0.1.0<br>
      Author:  Jonathan Hart (AKA "Eketek")
      <hr>
      <p>Ekvx2-ed is intended to be a general-purpose WYSIWYG 3D editor.</p>
      <p>
        It's direct inclusion in the Orthot III project is partly a desire to keep everything very simple, and partly due to an assumption that the editor will
        only ever be used for Orthot III (if that assumption ever changes, aside form the launching HTML documnet, the editor sub-project is also to refrain 
        from any dependency on anything specific to Orthot III, so a spin-off should be straightforward)
      </p>
      <p>
      </p>
      <p>
        Project page:
        <a href="https://github.com/Eketek/orthot">
          https://github.com/Eketek/orthot
        </a>
      </p>
      <p>
        If you would like to contribute, be be warned that the project is still somewhat more like a hastilly assembled mess of JavaScript than an elegantly
        coded and well-documented software project.  Eketek at least knows what to do about it.
      </p>
      <span class="btn_active" id="hideabout">Click -&gt<b>Here</b>&lt- or --&gt<b>there</b> to hide this message.</span>
    </div>
    <div id="textdisplay" style="position:absolute;margin:auto;pointer-events:none;opacity:0"></div>
    
    <div id="colorPicker" class="info">
      Color Picker  <!--textarea id="manualColorPicker" rows="1" wrap="off" style="resize:none;height:18px">red;green;blue</textarea-->
      <div id="colorOutline" style="border-width:3px;margin:1px;border-style:solid">  <!-- ;border-style:solid;border-color:green -->
        <div style="float:left">
          <span class="btn_active" id="foldrecentBTN">Recent Colors</span><br>
          <div id="recentColors" class="narrowblock"></div>
          <span class="btn_active" id="foldpalettecfgBTN">Palette-config</span><br>
          <table id="palettecfg">palbtnW
            <tr><td># Hues</td><td><textarea id="numHuesTA" rows="1" wrap="off" style="resize:none;height:18px;overflow:hidden">18</textarea></td></tr>
            <tr><td>S-vals</td><td><textarea id="satsTA" rows="1" wrap="off" style="resize:none;height:18px;overflow:hidden">100 60 30 10</textarea></td></tr>
            <tr><td>L-vals</td><td><textarea id="lightsTA" rows="1" wrap="off" style="resize:none;height:18px;overflow:hidden">85 70 50 25 10</textarea></td></tr>
            <tr><td>btn-w</td><td><textarea id="palbtnW" rows="1" wrap="off" style="resize:none;height:18px;overflow:hidden">16</textarea></td></tr>
            <tr><td></td><td><span id="resetHSLcfgBTN" class="btn_active">Reset</span></td></tr>
          </table>
        </div>
        <div style="float:left">
          <span class="btn_active" id="foldpaletteBTN">Palette</span><br>
          <div id="palleteColors" style="font-size:8px"></div>
        </div>
        <div style="clear:left"></div>
      </div>
    </div>
  </body>
</html>




